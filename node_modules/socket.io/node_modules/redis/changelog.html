<h1 id="changelog">Changelog</h1>
<h2 id="v0-7-2-april-29-2012">v0.7.2 - April 29, 2012</h2>
<p>Many contributed fixes. Thank you, contributors.</p>
<ul>
<li>[GH-190] - pub/sub mode fix (Brian Noguchi)</li>
<li>[GH-165] - parser selection fix (TEHEK)</li>
<li>numerous documentation and examples updates</li>
<li>auth errors emit Errors instead of Strings (David Trejo)</li>
</ul>
<h2 id="v0-7-1-november-15-2011">v0.7.1 - November 15, 2011</h2>
<p>Fix regression in reconnect logic.</p>
<p>Very much need automated tests for reconnection and queue logic.</p>
<h2 id="v0-7-0-november-14-2011">v0.7.0 - November 14, 2011</h2>
<p>Many contributed fixes. Thanks everybody.</p>
<ul>
<li>[GH-127] - properly re-initialize parser on reconnect</li>
<li>[GH-136] - handle passing undefined as callback (Ian Babrou)</li>
<li>[GH-139] - properly handle exceptions thrown in pub/sub event handlers (Felix Geisendörfer)</li>
<li>[GH-141] - detect closing state on stream error (Felix Geisendörfer)</li>
<li>[GH-142] - re-select database on reconnection (Jean-Hugues Pinson)</li>
<li>[GH-146] - add sort example (Maksim Lin)</li>
</ul>
<p>Some more goodies:</p>
<ul>
<li>Fix bugs with node 0.6</li>
<li>Performance improvements</li>
<li>New version of <code>multi_bench.js</code> that tests more realistic scenarios</li>
<li>[GH-140] - support optional callback for subscribe commands</li>
<li>Properly flush and error out command queue when connection fails</li>
<li>Initial work on reconnection thresholds</li>
</ul>
<h2 id="v0-6-7-july-30-2011">v0.6.7 - July 30, 2011</h2>
<p>(accidentally skipped v0.6.6)</p>
<p>Fix and test for [GH-123]</p>
<p>Passing an Array as as the last argument should expand as users
expect.  The old behavior was to coerce the arguments into Strings,
which did surprising things with Arrays.</p>
<h2 id="v0-6-5-july-6-2011">v0.6.5 - July 6, 2011</h2>
<p>Contributed changes:</p>
<ul>
<li>Support SlowBuffers (Umair Siddique)</li>
<li>Add Multi to exports (Louis-Philippe Perron)</li>
<li>Fix for drain event calculation (Vladimir Dronnikov)</li>
</ul>
<p>Thanks!</p>
<h2 id="v0-6-4-june-30-2011">v0.6.4 - June 30, 2011</h2>
<p>Fix bug with optional callbacks for hmset.</p>
<h2 id="v0-6-2-june-30-2011">v0.6.2 - June 30, 2011</h2>
<p>Bugs fixed:</p>
<ul>
<li>authentication retry while server is loading db (danmaz74) [GH-101]</li>
<li>command arguments processing issue with arrays</li>
</ul>
<p>New features:</p>
<ul>
<li>Auto update of new commands from redis.io (Dave Hoover)</li>
<li>Performance improvements and backpressure controls.</li>
<li>Commands now return the true/false value from the underlying socket write(s).</li>
<li>Implement command_queue high water and low water for more better control of queueing.</li>
</ul>
<p>See <code>examples/backpressure_drain.js</code> for more information.</p>
<h2 id="v0-6-1-june-29-2011">v0.6.1 - June 29, 2011</h2>
<p>Add support and tests for Redis scripting through EXEC command.</p>
<p>Bug fix for monitor mode.  (forddg)</p>
<p>Auto update of new commands from redis.io (Dave Hoover)</p>
<h2 id="v0-6-0-april-21-2011">v0.6.0 - April 21, 2011</h2>
<p>Lots of bugs fixed.</p>
<ul>
<li>connection error did not properly trigger reconnection logic [GH-85]</li>
<li>client.hmget(key, [val1, val2]) was not expanding properly [GH-66]</li>
<li>client.quit() while in pub/sub mode would throw an error [GH-87]</li>
<li>client.multi([&#39;hmset&#39;, &#39;key&#39;, {foo: &#39;bar&#39;}]) fails [GH-92]</li>
<li>unsubscribe before subscribe would make things very confused [GH-88]</li>
<li>Add BRPOPLPUSH [GH-79]</li>
</ul>
<h2 id="v0-5-11-april-7-2011">v0.5.11 - April 7, 2011</h2>
<p>Added DISCARD</p>
<p>I originally didn&#39;t think DISCARD would do anything here because of the clever MULTI interface, but somebody
pointed out to me that DISCARD can be used to flush the WATCH set.</p>
<h2 id="v0-5-10-april-6-2011">v0.5.10 - April 6, 2011</h2>
<p>Added HVALS</p>
<h2 id="v0-5-9-march-14-2011">v0.5.9 - March 14, 2011</h2>
<p>Fix bug with empty Array arguments - Andy Ray</p>
<h2 id="v0-5-8-march-14-2011">v0.5.8 - March 14, 2011</h2>
<p>Add <code>MONITOR</code> command and special monitor command reply parsing.</p>
<h2 id="v0-5-7-february-27-2011">v0.5.7 - February 27, 2011</h2>
<p>Add magical auth command.</p>
<p>Authentication is now remembered by the client and will be automatically sent to the server
on every connection, including any reconnections.</p>
<h2 id="v0-5-6-february-22-2011">v0.5.6 - February 22, 2011</h2>
<p>Fix bug in ready check with <code>return_buffers</code> set to <code>true</code>.</p>
<p>Thanks to Dean Mao and Austin Chau.</p>
<h2 id="v0-5-5-february-16-2011">v0.5.5 - February 16, 2011</h2>
<p>Add probe for server readiness.</p>
<p>When a Redis server starts up, it might take a while to load the dataset into memory.
During this time, the server will accept connections, but will return errors for all non-INFO
commands.  Now node_redis will send an INFO command whenever it connects to a server.
If the info command indicates that the server is not ready, the client will keep trying until
the server is ready.  Once it is ready, the client will emit a &quot;ready&quot; event as well as the
&quot;connect&quot; event.  The client will queue up all commands sent before the server is ready, just
like it did before.  When the server is ready, all offline/non-ready commands will be replayed.
This should be backward compatible with previous versions.</p>
<p>To disable this ready check behavior, set <code>options.no_ready_check</code> when creating the client.</p>
<p>As a side effect of this change, the key/val params from the info command are available as
<code>client.server_options</code>.  Further, the version string is decomposed into individual elements
in <code>client.server_options.versions</code>.</p>
<h2 id="v0-5-4-february-11-2011">v0.5.4 - February 11, 2011</h2>
<p>Fix excess memory consumption from Queue backing store.</p>
<p>Thanks to Gustaf Sjöberg.</p>
<h2 id="v0-5-3-february-5-2011">v0.5.3 - February 5, 2011</h2>
<p>Fix multi/exec error reply callback logic.</p>
<p>Thanks to Stella Laurenzo.</p>
<h2 id="v0-5-2-january-18-2011">v0.5.2 - January 18, 2011</h2>
<p>Fix bug where unhandled error replies confuse the parser.</p>
<h2 id="v0-5-1-january-18-2011">v0.5.1 - January 18, 2011</h2>
<p>Fix bug where subscribe commands would not handle redis-server startup error properly.</p>
<h2 id="v0-5-0-december-29-2010">v0.5.0 - December 29, 2010</h2>
<p>Some bug fixes:</p>
<ul>
<li>An important bug fix in reconnection logic.  Previously, reply callbacks would be invoked twice after
a reconnect.</li>
<li>Changed error callback argument to be an actual Error object.</li>
</ul>
<p>New feature:</p>
<ul>
<li>Add friendly syntax for HMSET using an object.</li>
</ul>
<h2 id="v0-4-1-december-8-2010">v0.4.1 - December 8, 2010</h2>
<p>Remove warning about missing hiredis.  You probably do want it though.</p>
<h2 id="v0-4-0-december-5-2010">v0.4.0 - December 5, 2010</h2>
<p>Support for multiple response parsers and hiredis C library from Pieter Noordhuis.
Return Strings instead of Buffers by default.
Empty nested mb reply bug fix.</p>
<h2 id="v0-3-9-november-30-2010">v0.3.9 - November 30, 2010</h2>
<p>Fix parser bug on failed EXECs.</p>
<h2 id="v0-3-8-november-10-2010">v0.3.8 - November 10, 2010</h2>
<p>Fix for null MULTI response when WATCH condition fails.</p>
<h2 id="v0-3-7-november-9-2010">v0.3.7 - November 9, 2010</h2>
<p>Add &quot;drain&quot; and &quot;idle&quot; events.</p>
<h2 id="v0-3-6-november-3-2010">v0.3.6 - November 3, 2010</h2>
<p>Add all known Redis commands from Redis master, even ones that are coming in 2.2 and beyond.</p>
<p>Send a friendlier &quot;error&quot; event message on stream errors like connection refused / reset.</p>
<h2 id="v0-3-5-october-21-2010">v0.3.5 - October 21, 2010</h2>
<p>A few bug fixes.</p>
<ul>
<li>Fixed bug with <code>nil</code> multi-bulk reply lengths that showed up with <code>BLPOP</code> timeouts.</li>
<li>Only emit <code>end</code> once when connection goes away.</li>
<li>Fixed bug in <code>test.js</code> where driver finished before all tests completed.</li>
</ul>
<h2 id="unversioned-wasteland">unversioned wasteland</h2>
<p>See the git history for what happened before.</p>
